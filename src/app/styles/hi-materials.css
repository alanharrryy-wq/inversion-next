/* ==========================================================================
   HITECH MATERIAL SYSTEM v4
   Objetivo: vidrio+metal realista (no SaaS blur), polvo/grain, rim irregular,
   glints direccionales, profundidad y espejo blur abajo.
   ========================================================================== */

:root {
  /* Base palette (match reference: dark steel, cyan only for data) */
  --hi-bg-0: #05080b;
  --hi-bg-1: #070c11;
  --hi-bg-2: #0b121a;

  --hi-panel-core: rgba(18, 26, 34, 0.62);
  --hi-panel-deep: rgba(6, 10, 14, 0.55);

  --hi-steel-a: rgba(255, 255, 255, 0.10);
  --hi-steel-b: rgba(255, 255, 255, 0.05);
  --hi-steel-c: rgba(255, 255, 255, 0.02);

  --hi-text: rgba(255, 255, 255, 0.86);
  --hi-text-dim: rgba(255, 255, 255, 0.66);

  --hi-cyan: rgba(76, 205, 255, 0.85);
  --hi-cyan-soft: rgba(76, 205, 255, 0.25);

  /* Blur control (no neon gamer) */
  --hi-blur: 14px;
  --hi-blur-soft: 10px;

  /* Shadows */
  --hi-shadow-out: 0 24px 80px rgba(0, 0, 0, 0.65);
  --hi-shadow-mid: 0 14px 40px rgba(0, 0, 0, 0.55);
  --hi-shadow-in: inset 0 1px 0 rgba(255, 255, 255, 0.06),
    inset 0 -18px 36px rgba(0, 0, 0, 0.55);

  --hi-radius-xl: 26px;
  --hi-radius-lg: 18px;

  /* Grain injected by JS (data-uri) */
  --hi-grain-url: none;
}

/* =========================
   GLOBAL BACKGROUND
   ========================= */

.hi-screen {
  color: var(--hi-text);
  position: relative;
  border-radius: var(--hi-radius-xl);
  overflow: hidden;
  background:
    radial-gradient(1200px 700px at 18% 22%, rgba(203, 203, 203, 0.12), transparent 58%),
    radial-gradient(900px 520px at 72% 30%, rgba(178, 178, 178, 0.10), transparent 55%),
    radial-gradient(1200px 900px at 55% 95%, rgba(255, 255, 255, 0.06), transparent 58%),
    linear-gradient(180deg, var(--hi-bg-2), var(--hi-bg-0));
  box-shadow: var(--hi-shadow-out);
}

/* dust field + vignette + subtle bloom */
.hi-screen::before {
  content: "";
  position: absolute;
  inset: -40px;
  background:
    radial-gradient(closest-side at 18% 18%, rgba(255, 255, 255, 0.05), transparent 60%),
    radial-gradient(closest-side at 78% 22%, rgba(201, 201, 201, 0.04), transparent 62%),
    radial-gradient(closest-side at 45% 92%, rgba(255, 255, 255, 0.04), transparent 62%),
    radial-gradient(1200px 800px at 50% 50%, rgba(255, 255, 255, 0.02), transparent 70%),
    linear-gradient(180deg, rgba(0, 0, 0, 0.18), rgba(0, 0, 0, 0.38));
  filter: blur(0.4px);
  opacity: 1;
  pointer-events: none;
}

/* Grain overlay (procedural) */
.hi-screen::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: var(--hi-grain-url);
  background-size: 320px 320px;
  opacity: 0.16;
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* =========================
   PANEL GLASS + METAL (7-9 layers)
   ========================= */

.hi-panel {
  position: relative;
  border-radius: var(--hi-radius-lg);
  overflow: hidden;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.05), rgba(0, 0, 0, 0.10));
  box-shadow: var(--hi-shadow-mid);
}

/* Layer 1: deep base */
.hi-panel::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(900px 480px at 30% 10%, rgba(255, 255, 255, 0.07), transparent 60%),
    radial-gradient(900px 540px at 70% 20%, rgba(90, 200, 255, 0.05), transparent 62%),
    radial-gradient(1200px 700px at 50% 120%, rgba(0, 0, 0, 0.75), transparent 60%),
    linear-gradient(180deg, var(--hi-panel-core), var(--hi-panel-deep));
  backdrop-filter: blur(var(--hi-blur));
  -webkit-backdrop-filter: blur(var(--hi-blur));
  opacity: 1;
}

/* Layer 2: inner volume + metallic shading */
.hi-panel::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(135deg, rgba(255, 255, 255, 0.06), transparent 42%),
    linear-gradient(315deg, rgba(255, 255, 255, 0.04), transparent 46%),
    radial-gradient(800px 420px at 50% 0%, rgba(255, 255, 255, 0.06), transparent 62%),
    radial-gradient(900px 520px at 50% 120%, rgba(0, 0, 0, 0.65), transparent 58%);
  mix-blend-mode: soft-light;
  opacity: 0.95;
  pointer-events: none;
}

/* Critical panel: deeper + more spec + stronger rim */
.hi-panel-critical::before {
  background:
    radial-gradient(900px 520px at 32% 12%, rgba(255, 255, 255, 0.10), transparent 60%),
    radial-gradient(900px 540px at 78% 22%, rgba(90, 210, 255, 0.07), transparent 62%),
    radial-gradient(1200px 700px at 50% 120%, rgba(0, 0, 0, 0.82), transparent 60%),
    linear-gradient(180deg, rgba(24, 34, 44, 0.68), rgba(6, 10, 14, 0.62));
}

/* =========================
   OVERLAYS (attach these as child divs)
   ========================= */

.hi-inset {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow: var(--hi-shadow-in);
  pointer-events: none;
}

/* Specular highlight top */
.hi-specular {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(900px 220px at 50% 0%, rgba(255, 255, 255, 0.12), transparent 58%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.08), transparent 32%);
  opacity: 0.85;
  mix-blend-mode: screen;
  pointer-events: none;
}

/* Rim light irregular (non-uniform edge) */
.hi-rim {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background:
    conic-gradient(from 210deg,
      rgba(255, 255, 255, 0.22),
      rgba(255, 255, 255, 0.06) 20%,
      rgba(120, 220, 255, 0.14) 34%,
      rgba(255, 255, 255, 0.04) 52%,
      rgba(255, 255, 255, 0.18) 78%,
      rgba(255, 255, 255, 0.06));
  /* Corte del borde tipo glass rim */
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);

  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);

  /* Composici√≥n */
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  opacity: 0.75;
  pointer-events: none;
}

/* External glow (controlled) */
.hi-glow {
  position: absolute;
  inset: -18px;
  border-radius: inherit;
  background:
    radial-gradient(700px 320px at 40% 10%, rgba(255, 255, 255, 0.10), transparent 62%),
    radial-gradient(600px 280px at 70% 20%, rgba(188, 188, 188, 0.08), transparent 62%);
  filter: blur(18px);
  opacity: 0.45;
  pointer-events: none;
}

/* Grain on panel surface */
.hi-grain {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background-image: var(--hi-grain-url);
  background-size: 260px 260px;
  opacity: 0.14;
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* Extra glass FX: micro glare + haze */
.hi-glassfx {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(420px 160px at 28% 22%, rgba(255, 255, 255, 0.08), transparent 68%),
    radial-gradient(520px 200px at 76% 18%, rgba(255, 255, 255, 0.06), transparent 70%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.06), transparent 50%);
  opacity: 0.85;
  mix-blend-mode: screen;
  pointer-events: none;
}

/* Glints: thin streaks, not neon. Add as overlay div */
.hi-glints {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    linear-gradient(115deg, transparent 0 44%, rgba(255, 255, 255, 0.10) 48%, transparent 52%),
    linear-gradient(115deg, transparent 0 62%, rgba(201, 201, 201, 0.08) 66%, transparent 70%),
    radial-gradient(700px 260px at 80% 0%, rgba(255, 255, 255, 0.10), transparent 62%);
  opacity: 0.55;
  mix-blend-mode: screen;
  filter: blur(0.2px);
  pointer-events: none;
}

/* =========================
   CHART GLASS FEEL
   ========================= */

.hi-chart {
  border-radius: 14px;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(0, 0, 0, 0.24)),
    radial-gradient(600px 260px at 60% 0%, rgba(120, 220, 255, 0.10), transparent 60%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.06),
    inset 0 -30px 50px rgba(0, 0, 0, 0.55);
  position: relative;
  overflow: hidden;
}

.hi-chart::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(120deg, transparent 0 40%, rgba(255, 255, 255, 0.08) 46%, transparent 52%),
    radial-gradient(500px 220px at 35% 10%, rgba(255, 255, 255, 0.08), transparent 62%);
  opacity: 0.65;
  mix-blend-mode: screen;
  pointer-events: none;
}

.hi-chart::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: var(--hi-grain-url);
  background-size: 260px 260px;
  opacity: 0.10;
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* =========================
   MIRROR REFLECTION (bottom)
   ========================= */

.hi-mirror-wrap {
  position: absolute;
  inset: auto 0 -52px 0;
  height: 220px;
  pointer-events: none;
  opacity: 0.38;
  filter: blur(14px);
}

.hi-mirror {
  position: absolute;
  inset: 0;
  transform: scaleY(-1);
  transform-origin: top;
  border-radius: var(--hi-radius-xl);
  background:
    radial-gradient(900px 420px at 50% 20%, rgba(255, 255, 255, 0.08), transparent 62%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(0, 0, 0, 0.32));
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.55), transparent 70%);
}

/* Utility text */
.hi-dim {
  color: var(--hi-text-dim);
}
